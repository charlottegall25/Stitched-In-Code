import processing.embroider.*;

PEmbroiderGraphics E;

void setup() {
  int hoop = 100;   // 4" x 4" hoop = 100mm
  E = new PEmbroiderGraphics(this, hoop, hoop);
  E.beginDraw();

  E.strokeWeight(1); // single stitch lines

  // --- colour palette ---
  color blue   = color(111, 201, 255);
  color yellow = color(250, 231, 58);

  // --- margins ---
  float margin = 3;          // small margin from hoop edge
  float left = margin;
  float right = hoop - margin;
  float top = margin;
  float bottom = hoop - margin;

  float width = right - left;
  float height = bottom - top;

  // --- left vertical blue stripes ---
  E.stroke(blue);
  float leftStripeEnd = left + width*0.45; // roughly 45% width
  for (float x = left; x <= leftStripeEnd; x += 4) {
    E.line(x, top, x, bottom);
  }

  // --- right vertical blue stripes ---
  E.stroke(blue);
  float rightStripeStart = left + width*0.55; // start after middle gap
  for (float x = rightStripeStart; x <= right; x += 4) {
    E.line(x, top, x, bottom);
  }

  // --- horizontal yellow bands ---
  E.stroke(yellow);
  float bandHeight = 10; // thickness of each yellow band in mm
  float gap = (height - 3*bandHeight)/2; // vertical gap between bands

  // top band
  for (float y = top; y <= top + bandHeight; y += 2) {
    E.line(left, y, right, y);
  }

  // middle band
  for (float y = top + bandHeight + gap; y <= top + 2*bandHeight + gap; y += 2) {
    E.line(left, y, right, y);
  }

  // bottom band
  for (float y = top + 2*(bandHeight + gap); y <= bottom; y += 2) {
    E.line(left, y, right, y);
  }

  // --- finish and export ---
  E.optimize();
  E.visualize(true, true, true);
  String outputFilePath = sketchPath("ANNA_SPIRO_TEST).pes");
  E.setPath(outputFilePath);
  E.endDraw();
}
